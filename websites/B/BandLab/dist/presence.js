"use strict";(()=>{var a=new Presence({clientId:"801743263052726292"}),m=Math.floor(Date.now()/1e3),o=0;a.on("UpdateData",async()=>{let g=await a.getSetting("showButtons"),c=await a.getSetting("privacyMode"),b=await a.getSetting("lang")||"en",d=await a.getSetting("titleArtistFormat")||"%title% - %artist%",t=await a.getStrings({play:"general.playing",pause:"general.paused",browse:"general.browsing",view:"general.view",buttonViewSong:"general.buttonViewSong",listening:"general.listeningTo",listening_unspecified:"general.listeningMusic",viewUser:"general.viewUser",readingADM:"general.readingADM",buttonViewPage:"general.buttonViewPage",trending:"bandlab.trending",following:"bandlab.following",forYou:"bandlab.forYou",videoBrowse:"bandlab.video",comms:"bandlab.comms",watching:"general.watching",buttonWatchVideo:"general.buttonWatchVideo",videoTarget:"bandlab.videoTarget"}),{pathname:r,search:u,href:s}=document.location,e={largeImageKey:"https://assets.stickpng.com/images/631205e3b661e15cdf54dede.png",startTimestamp:o!=0?o:m,type:0};if(r.startsWith("/feed/"))if(e.details=t.browse,r.includes("trending"))e.state=t.trending;else if(r.includes("following"))e.state=t.following;else if(r.includes("for-you"))e.state=t.forYou;else if(r.includes("video")){if(u.trim()==="")e.state=t.videoBrowse;else if(u.includes("postId")){e.details=t.watching;let n={element:null,target:"",username:""},i=document.querySelector("post-card-header-content > div > .post-card-header-title > a");i&&(n.element=i,n.target=i?.getAttribute("href")||"",n.username=i?.textContent||"a BandLab user"),g&&(e.buttons=[{label:t.buttonWatchVideo,url:s},{label:t.viewUser,url:n.target}]),e.state=t.videoTarget.replace("[1]",n.username)}}else r.includes("communities")&&(e.state=t.comms);if(r.startsWith("/library/projects/")&&!r.includes("likes")&&(e.state="Looking at their saved projects"),r.startsWith("/track/")){o=0;let n=document.querySelector("post-private-badge")===null;if(!n&&c)e.state=t.listening_unspecified;else{let i=document.querySelector(".track-page-player-title-name")?.textContent?.trim()||"A song",p=document.querySelector("a.track-card-subtitle-text")?.textContent?.trim()||"someone";e.details=t.view,e.state=d.replace("%title%",i).replace("%artist%",p),e.largeImageKey=document.querySelector("img.ds-cover")?.getAttribute("srcset")?.split(" ")[0]||"https://assets.stickpng.com/images/631205e3b661e15cdf54dede.png",n&&g&&(e.buttons=[{label:t.buttonViewSong,url:s}]);let l=document.querySelector("button.ds-play-button");l!=null&&(l.className.includes("status-paused")?(e.smallImageKey="https://cdn.discordapp.com/app-assets/801743263052726292/1406529845537673246.png",e.smallImageText=t.pause):l.className.includes("status-playing")&&(e.details=t.listening.replace("{0}{1}",":"),e.smallImageKey="https://cdn.discordapp.com/app-assets/801743263052726292/1406529845738995772.png",e.smallImageText=t.play))}}if(r.includes("/studio"))if(e.details="In the Studio",o===0&&(o=Math.floor(Date.now()/1e3)),c)e.state="Cooking up some heat";else{let i=document.getElementById("studio-project-name-input").value.trim()||"New Project";e.state="Working on project: {0}".replace("{0}",i)}if(r.startsWith("/chat")&&(e.state=t.readingADM),document.querySelector(".profile-card-title")!=null){e.details=r.startsWith("/band/")?"Viewing band:":t.viewUser,e.buttons=[{label:t.buttonViewPage,url:s}];let n=document.querySelector(".profile-card-picture > a > img")?.getAttribute("srcset")?.split(" ")[0];n!=null?(e.largeImageKey=n,e.smallImageKey="https://assets.stickpng.com/images/631205e3b661e15cdf54dede.png",e.smallImageText="BandLab"):e.largeImageKey="https://assets.stickpng.com/images/631205e3b661e15cdf54dede.png",e.state=`${document.querySelector(".profile-card-title")?.textContent?.trim()}${r.startsWith("/band/")?"":" ("+document.querySelector(".profile-card-subtitle > a")?.textContent?.trim()+")"}`}e.state?a.setActivity(e):a.clearActivity()});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vcHJlc2VuY2UudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IEFjdGl2aXR5VHlwZSwgQXNzZXRzIH0gZnJvbSAncHJlbWlkJ1xuXG5jb25zdCBwcmVzZW5jZSA9IG5ldyBQcmVzZW5jZSh7XG4gIGNsaWVudElkOiAnODAxNzQzMjYzMDUyNzI2MjkyJyxcbn0pXG5jb25zdCBicm93c2luZ1RpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApXG5sZXQgc3R1ZGlvVGltZXN0YW1wID0gMFxuXG5lbnVtIEFjdGl2aXR5QXNzZXRzIHtcbiAgTG9nbyA9ICdodHRwczovL2Fzc2V0cy5zdGlja3BuZy5jb20vaW1hZ2VzLzYzMTIwNWUzYjY2MWUxNWNkZjU0ZGVkZS5wbmcnLFxuICBQYXVzZWQgPSAnaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXBwLWFzc2V0cy84MDE3NDMyNjMwNTI3MjYyOTIvMTQwNjUyOTg0NTUzNzY3MzI0Ni5wbmcnLFxuICBQbGF5aW5nID0gJ2h0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2FwcC1hc3NldHMvODAxNzQzMjYzMDUyNzI2MjkyLzE0MDY1Mjk4NDU3Mzg5OTU3NzIucG5nJ1xufVxuXG5wcmVzZW5jZS5vbignVXBkYXRlRGF0YScsIGFzeW5jICgpID0+IHtcbiAgY29uc3Qgc2hvd0J1dHRvbnMgPSBhd2FpdCBwcmVzZW5jZS5nZXRTZXR0aW5nPGJvb2xlYW4+KCdzaG93QnV0dG9ucycpXG4gIGNvbnN0IHByaXZhY3lNb2RlID0gYXdhaXQgcHJlc2VuY2UuZ2V0U2V0dGluZzxib29sZWFuPigncHJpdmFjeU1vZGUnKVxuICBjb25zdCB1c2VyTGFuZ3VhZ2UgPSBhd2FpdCBwcmVzZW5jZS5nZXRTZXR0aW5nPHN0cmluZz4oJ2xhbmcnKSB8fCBcImVuXCJcbiAgY29uc3QgdGl0bGVBcnRpc3RGb3JtYXQgPSBhd2FpdCBwcmVzZW5jZS5nZXRTZXR0aW5nPHN0cmluZz4oJ3RpdGxlQXJ0aXN0Rm9ybWF0JykgfHwgXCIldGl0bGUlIC0gJWFydGlzdCVcIlxuICBcbiAgY29uc3Qgc3RyaW5ncyA9IGF3YWl0IHByZXNlbmNlLmdldFN0cmluZ3Moe1xuICAgIHBsYXk6ICdnZW5lcmFsLnBsYXlpbmcnLFxuICAgIHBhdXNlOiAnZ2VuZXJhbC5wYXVzZWQnLFxuICAgIGJyb3dzZTogJ2dlbmVyYWwuYnJvd3NpbmcnLFxuICAgIHZpZXc6ICdnZW5lcmFsLnZpZXcnLFxuICAgIGJ1dHRvblZpZXdTb25nOiAnZ2VuZXJhbC5idXR0b25WaWV3U29uZycsXG4gICAgbGlzdGVuaW5nOiAnZ2VuZXJhbC5saXN0ZW5pbmdUbycsXG4gICAgbGlzdGVuaW5nX3Vuc3BlY2lmaWVkOiAnZ2VuZXJhbC5saXN0ZW5pbmdNdXNpYycsXG4gICAgdmlld1VzZXI6ICdnZW5lcmFsLnZpZXdVc2VyJyxcbiAgICByZWFkaW5nQURNOiAnZ2VuZXJhbC5yZWFkaW5nQURNJyxcbiAgICBidXR0b25WaWV3UGFnZTogJ2dlbmVyYWwuYnV0dG9uVmlld1BhZ2UnLFxuICAgIHRyZW5kaW5nOiAnYmFuZGxhYi50cmVuZGluZycsXG4gICAgZm9sbG93aW5nOiAnYmFuZGxhYi5mb2xsb3dpbmcnLFxuICAgIGZvcllvdTogJ2JhbmRsYWIuZm9yWW91JyxcbiAgICB2aWRlb0Jyb3dzZTogJ2JhbmRsYWIudmlkZW8nLFxuICAgIGNvbW1zOiAnYmFuZGxhYi5jb21tcycsXG4gICAgd2F0Y2hpbmc6ICdnZW5lcmFsLndhdGNoaW5nJyxcbiAgICBidXR0b25XYXRjaFZpZGVvOiAnZ2VuZXJhbC5idXR0b25XYXRjaFZpZGVvJyxcbiAgICB2aWRlb1RhcmdldDogJ2JhbmRsYWIudmlkZW9UYXJnZXQnXG4gIH0pXG5cbiAgY29uc3QgeyBwYXRobmFtZSwgc2VhcmNoLCBocmVmIH0gPSBkb2N1bWVudC5sb2NhdGlvblxuXG4gIGNvbnN0IHByZXNlbmNlRGF0YTogUHJlc2VuY2VEYXRhID0ge1xuICAgIGxhcmdlSW1hZ2VLZXk6IEFjdGl2aXR5QXNzZXRzLkxvZ28sXG4gICAgc3RhcnRUaW1lc3RhbXA6IHN0dWRpb1RpbWVzdGFtcCAhPSAwID8gc3R1ZGlvVGltZXN0YW1wIDogYnJvd3NpbmdUaW1lc3RhbXAsXG4gICAgdHlwZTogQWN0aXZpdHlUeXBlLlBsYXlpbmdcbiAgfVxuXG4gIGlmIChwYXRobmFtZS5zdGFydHNXaXRoKFwiL2ZlZWQvXCIpKSB7XG4gICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBzdHJpbmdzLmJyb3dzZVxuXG4gICAgaWYgKHBhdGhuYW1lLmluY2x1ZGVzKFwidHJlbmRpbmdcIikpIHtcbiAgICAgIHByZXNlbmNlRGF0YS5zdGF0ZSA9IHN0cmluZ3MudHJlbmRpbmdcbiAgICB9IGVsc2UgaWYgKHBhdGhuYW1lLmluY2x1ZGVzKFwiZm9sbG93aW5nXCIpKSB7XG4gICAgICBwcmVzZW5jZURhdGEuc3RhdGUgPSBzdHJpbmdzLmZvbGxvd2luZ1xuICAgIH0gZWxzZSBpZiAocGF0aG5hbWUuaW5jbHVkZXMoXCJmb3IteW91XCIpKSB7XG4gICAgICBwcmVzZW5jZURhdGEuc3RhdGUgPSBzdHJpbmdzLmZvcllvdVxuICAgIH0gZWxzZSBpZiAocGF0aG5hbWUuaW5jbHVkZXMoXCJ2aWRlb1wiKSkge1xuICAgICAgaWYgKHNlYXJjaC50cmltKCkgPT09IFwiXCIpIHtcbiAgICAgICAgLy8gVXNlciBpcyBqdXN0IGJyb3dzaW5nIHRoZSB2aWRlbyBmZWVkXG4gICAgICAgIHByZXNlbmNlRGF0YS5zdGF0ZSA9IHN0cmluZ3MudmlkZW9Ccm93c2VcbiAgICAgIH0gZWxzZSBpZiAoc2VhcmNoLmluY2x1ZGVzKFwicG9zdElkXCIpKSB7XG4gICAgICAgIC8vIFVzZXIgaXMgd2F0Y2hpbmcgYSBzcGVjaWZpYyB2aWRlb1xuICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IHN0cmluZ3Mud2F0Y2hpbmdcblxuICAgICAgICBsZXQgdmlkZW9BdXRob3I6IHtcbiAgICAgICAgICBlbGVtZW50OiBFbGVtZW50IHwgbnVsbDtcbiAgICAgICAgICB0YXJnZXQ6IHN0cmluZztcbiAgICAgICAgICB1c2VybmFtZTogc3RyaW5nXG4gICAgICAgIH0gPSB7XG4gICAgICAgICAgZWxlbWVudDogbnVsbCxcbiAgICAgICAgICB0YXJnZXQ6IFwiXCIsXG4gICAgICAgICAgdXNlcm5hbWU6IFwiXCJcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBob21lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJwb3N0LWNhcmQtaGVhZGVyLWNvbnRlbnQgPiBkaXYgPiAucG9zdC1jYXJkLWhlYWRlci10aXRsZSA+IGFcIikgLy8gR3JhYnMgdGhlIGxpbmsgZWxlbWVudCB0aGF0IHBvaW50cyB0byB0aGUgb3JpZ2luYXRpbmcgYWNjb3VudCBpbiB0aGUgdmlkZW8gcGxheWVyXG5cbiAgICAgICAgaWYgKGhvbWVFbGVtZW50KSB7XG4gICAgICAgICAgdmlkZW9BdXRob3IuZWxlbWVudCA9IGhvbWVFbGVtZW50XG4gICAgICAgICAgdmlkZW9BdXRob3IudGFyZ2V0ID0gaG9tZUVsZW1lbnQ/LmdldEF0dHJpYnV0ZShcImhyZWZcIikgfHwgXCJcIiAvLyBUaGUgbGluayB0byB0aGUgYWNjb3VudFxuICAgICAgICAgIHZpZGVvQXV0aG9yLnVzZXJuYW1lID0gaG9tZUVsZW1lbnQ/LnRleHRDb250ZW50IHx8IFwiYSBCYW5kTGFiIHVzZXJcIiAvLyBUaGUgZGlzcGxheSBuYW1lIG9mIHRoZSBhY2NvdW50XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hvd0J1dHRvbnMpIHtcbiAgICAgICAgICBwcmVzZW5jZURhdGEuYnV0dG9ucyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbGFiZWw6IHN0cmluZ3MuYnV0dG9uV2F0Y2hWaWRlbyxcbiAgICAgICAgICAgICAgdXJsOiBocmVmXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBsYWJlbDogc3RyaW5ncy52aWV3VXNlcixcbiAgICAgICAgICAgICAgdXJsOiB2aWRlb0F1dGhvci50YXJnZXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cblxuICAgICAgICBwcmVzZW5jZURhdGEuc3RhdGUgPSBzdHJpbmdzLnZpZGVvVGFyZ2V0LnJlcGxhY2UoXCJbMV1cIix2aWRlb0F1dGhvci51c2VybmFtZSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBhdGhuYW1lLmluY2x1ZGVzKFwiY29tbXVuaXRpZXNcIikpIHtcbiAgICAgIHByZXNlbmNlRGF0YS5zdGF0ZSA9IHN0cmluZ3MuY29tbXNcbiAgICB9XG4gIH1cblxuICBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aChcIi9saWJyYXJ5L3Byb2plY3RzL1wiKSAmJiAhcGF0aG5hbWUuaW5jbHVkZXMoXCJsaWtlc1wiKSkge1xuICAgIHByZXNlbmNlRGF0YS5zdGF0ZSA9IFwiTG9va2luZyBhdCB0aGVpciBzYXZlZCBwcm9qZWN0c1wiXG4gIH1cblxuICBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aChcIi90cmFjay9cIikpIHtcbiAgICBzdHVkaW9UaW1lc3RhbXAgPSAwIC8vIFJlc2V0IFN0dWRpbyB0aW1lc3RhbXAgaGVyZSwgYmVjYXVzZSBwZW9wbGUgbGVhdmluZyBTdHVkaW8gZ2V0IHNlbnQgdG8gYSAvdHJhY2svIGxpbmtcblxuICAgIGxldCBpc1B1YmxpYyA6IGJvb2xlYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwicG9zdC1wcml2YXRlLWJhZGdlXCIpID09PSBudWxsOyAvLyBWZXJpZmllcyB0aGF0IHRoZSBwb3N0IGlzIHB1YmxpYyBieSBjaGVja2luZyBpZiB0aGUgXCJQcml2YXRlXCIgYmFkZ2UgZXhpc3RzXG5cbiAgICBpZiAoIWlzUHVibGljICYmIHByaXZhY3lNb2RlKSB7XG4gICAgICBwcmVzZW5jZURhdGEuc3RhdGUgPSBzdHJpbmdzLmxpc3RlbmluZ191bnNwZWNpZmllZFxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdGl0bGUgOiBzdHJpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRyYWNrLXBhZ2UtcGxheWVyLXRpdGxlLW5hbWVcIik/LnRleHRDb250ZW50Py50cmltKCkgfHwgXCJBIHNvbmdcIlxuICAgICAgbGV0IGFydGlzdCA6IHN0cmluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJhLnRyYWNrLWNhcmQtc3VidGl0bGUtdGV4dFwiKT8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCBcInNvbWVvbmVcIlxuXG4gICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IHN0cmluZ3Mudmlld1xuICAgICAgcHJlc2VuY2VEYXRhLnN0YXRlID0gdGl0bGVBcnRpc3RGb3JtYXQucmVwbGFjZShcIiV0aXRsZSVcIix0aXRsZSkucmVwbGFjZShcIiVhcnRpc3QlXCIsYXJ0aXN0KSAvLyBFeGFtcGxlOiB0ZWxsIG1lIC0gVG94aVBsYXlzXG5cbiAgICAgIHByZXNlbmNlRGF0YS5sYXJnZUltYWdlS2V5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImltZy5kcy1jb3ZlclwiKT8uZ2V0QXR0cmlidXRlKFwic3Jjc2V0XCIpPy5zcGxpdChcIiBcIilbMF0gfHwgQWN0aXZpdHlBc3NldHMuTG9nbyAvLyBTZXQgRGlzY29yZCBBY3Rpdml0eSBpbWFnZSB0byBmaXJzdCBwcm92aWRlZCBjb3B5IG9mIHNvbmcgY292ZXIgYXJ0XG5cbiAgICAgIGlmIChpc1B1YmxpYyAmJiBzaG93QnV0dG9ucykge1xuICAgICAgICBwcmVzZW5jZURhdGEuYnV0dG9ucyA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsYWJlbDogc3RyaW5ncy5idXR0b25WaWV3U29uZyxcbiAgICAgICAgICAgIHVybDogaHJlZlxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuXG4gICAgICBsZXQgYm90dG9tUGxheUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJidXR0b24uZHMtcGxheS1idXR0b25cIilcbiAgICAgIGlmIChib3R0b21QbGF5QnV0dG9uICE9IG51bGwpIHsgLy8gSGFzIHRoZSBhdWRpbyBwbGF5ZXIgb24gdGhlIGJvdHRvbSBiZWVuIGVuZ2FnZWQ/XG4gICAgICAgIGlmIChib3R0b21QbGF5QnV0dG9uLmNsYXNzTmFtZS5pbmNsdWRlcyhcInN0YXR1cy1wYXVzZWRcIikpIHtcbiAgICAgICAgICBwcmVzZW5jZURhdGEuc21hbGxJbWFnZUtleSA9IEFjdGl2aXR5QXNzZXRzLlBhdXNlZCxcbiAgICAgICAgICBwcmVzZW5jZURhdGEuc21hbGxJbWFnZVRleHQgPSBzdHJpbmdzLnBhdXNlXG4gICAgICAgIH0gZWxzZSBpZiAoYm90dG9tUGxheUJ1dHRvbi5jbGFzc05hbWUuaW5jbHVkZXMoXCJzdGF0dXMtcGxheWluZ1wiKSkge1xuICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gc3RyaW5ncy5saXN0ZW5pbmcucmVwbGFjZShcInswfXsxfVwiLGA6YCkgLy8gTGlzdGVuaW5nIHRvOlxuICAgICAgICAgIHByZXNlbmNlRGF0YS5zbWFsbEltYWdlS2V5ID0gQWN0aXZpdHlBc3NldHMuUGxheWluZyxcbiAgICAgICAgICBwcmVzZW5jZURhdGEuc21hbGxJbWFnZVRleHQgPSBzdHJpbmdzLnBsYXlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChwYXRobmFtZS5pbmNsdWRlcyhcIi9zdHVkaW9cIikpIHtcbiAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IFwiSW4gdGhlIFN0dWRpb1wiXG5cbiAgICBpZiAoc3R1ZGlvVGltZXN0YW1wID09PSAwKSB7XG4gICAgICBzdHVkaW9UaW1lc3RhbXAgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKVxuICAgIH1cblxuICAgIGlmIChwcml2YWN5TW9kZSkge1xuICAgICAgcHJlc2VuY2VEYXRhLnN0YXRlID0gXCJDb29raW5nIHVwIHNvbWUgaGVhdFwiXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBpbnB1dEJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3R1ZGlvLXByb2plY3QtbmFtZS1pbnB1dFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50XG4gICAgICBsZXQgdGl0bGUgPSBpbnB1dEJveC52YWx1ZS50cmltKCkgfHwgXCJOZXcgUHJvamVjdFwiXG4gICAgICBwcmVzZW5jZURhdGEuc3RhdGUgPSBcIldvcmtpbmcgb24gcHJvamVjdDogezB9XCIucmVwbGFjZShcInswfVwiLHRpdGxlKVxuICAgIH1cbiAgfVxuXG4gIGlmIChwYXRobmFtZS5zdGFydHNXaXRoKFwiL2NoYXRcIikpIHtcbiAgICAvLyBVc2VyIGlzIHJlYWRpbmcgYSBETVxuICAgIC8vIE5vdCBzdXJlIGhvdyBtdWNoIGNhbi9zaG91bGQgYmUgZG9uZSBpbiB0aGlzIGNhc2UgcmVzcGVjdGluZyB1c2VycycgcHJpdmFjeS4uLiBzdGF0aWMgdGV4dCBjaGFuZ2UgZm9yIG5vd1xuICAgIHByZXNlbmNlRGF0YS5zdGF0ZSA9IHN0cmluZ3MucmVhZGluZ0FETVxuICB9XG5cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZS1jYXJkLXRpdGxlXCIpICE9IG51bGwpIHtcbiAgICAvLyBXZSBhcmUgb24gYSBwcm9maWxlIHBhZ2UgKHdlIGNhbid0IHRlc3Qgb24gYSBzcGVjaWZpYyBwYXRobmFtZSBmb3IgdGhlc2Uga2luZHMgb2YgcGFnZXMpXG4gICAgLy8gRWl0aGVyIHRoYXQsIG9yIHdlIGFyZSBvbiBhIGJhbmQgc3RhcnRpbmcgd2l0aCBcIi9iYW5kL1wiIC0gdGhleSBoYXZlIHNpbWlsYXIgZm9ybWF0c1xuICAgIFxuICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gcGF0aG5hbWUuc3RhcnRzV2l0aChcIi9iYW5kL1wiKSA/IFwiVmlld2luZyBiYW5kOlwiIDogc3RyaW5ncy52aWV3VXNlclxuICAgIHByZXNlbmNlRGF0YS5idXR0b25zID0gW1xuICAgICAge1xuICAgICAgICBsYWJlbDogc3RyaW5ncy5idXR0b25WaWV3UGFnZSxcbiAgICAgICAgdXJsOiBocmVmXG4gICAgICB9XG4gICAgXVxuXG4gICAgbGV0IHBmcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZS1jYXJkLXBpY3R1cmUgPiBhID4gaW1nXCIpPy5nZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIik/LnNwbGl0KFwiIFwiKVswXSAvLyBHcmFiIGZpcnN0IHByb2ZpbGUgcGljdHVyZSBvZiB1c2VyIGF2YWlsYWJsZVxuICAgIGlmIChwZnAgIT0gbnVsbCkge1xuICAgICAgcHJlc2VuY2VEYXRhLmxhcmdlSW1hZ2VLZXkgPSBwZnBcbiAgICAgIHByZXNlbmNlRGF0YS5zbWFsbEltYWdlS2V5ID0gQWN0aXZpdHlBc3NldHMuTG9nb1xuICAgICAgcHJlc2VuY2VEYXRhLnNtYWxsSW1hZ2VUZXh0ID0gXCJCYW5kTGFiXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcHJlc2VuY2VEYXRhLmxhcmdlSW1hZ2VLZXkgPSBBY3Rpdml0eUFzc2V0cy5Mb2dvXG4gICAgfVxuXG4gICAgcHJlc2VuY2VEYXRhLnN0YXRlID0gYCR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlLWNhcmQtdGl0bGVcIik/LnRleHRDb250ZW50Py50cmltKCl9JHtwYXRobmFtZS5zdGFydHNXaXRoKFwiL2JhbmQvXCIpID8gXCJcIiA6IFwiIChcIitkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGUtY2FyZC1zdWJ0aXRsZSA+IGFcIik/LnRleHRDb250ZW50Py50cmltKCkrXCIpXCJ9YCAvLyBGb3IgdXNlcnMuLi4gW2Rpc3BsYXkgbmFtZV0ge0BbdXNlcm5hbWVdfSB8IEV4YW1wbGU6IEpvZVNjaG1vZSAoQGpfbWlsYm8pLiBGb3IgYmFuZHMuLi4gSnVzdCBzaG93cyB0aGUgYmFuZCBuYW1lXG4gIH1cblxuICBpZiAocHJlc2VuY2VEYXRhLnN0YXRlKSB7XG4gICAgcHJlc2VuY2Uuc2V0QWN0aXZpdHkocHJlc2VuY2VEYXRhKVxuICB9IGVsc2Uge1xuICAgIHByZXNlbmNlLmNsZWFyQWN0aXZpdHko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QlQsRUFBYSxjQUFnQixrRUFDN0JBLEVBQWEsZUFBaUIsV0FFOUJBLEVBQWEsY0FBZ0Isa0VBRy9CQSxFQUFhLE1BQVEsR0FBRyxTQUFTLGNBQWMscUJBQXFCLEdBQUcsYUFBYSxLQUFLLENBQUMsR0FBR0gsRUFBUyxXQUFXLFFBQVEsRUFBSSxHQUFLLEtBQUssU0FBUyxjQUFjLDRCQUE0QixHQUFHLGFBQWEsS0FBSyxFQUFFLEdBQUcsRUFDdE4sQ0FFSUcsRUFBYSxNQUNmVCxFQUFTLFlBQVlTLENBQVksRUFFakNULEVBQVMsY0FBYyxDQUUzQixDQUFDIiwKICAibmFtZXMiOiBbInByZXNlbmNlIiwgImJyb3dzaW5nVGltZXN0YW1wIiwgInN0dWRpb1RpbWVzdGFtcCIsICJwcmVzZW5jZSIsICJzaG93QnV0dG9ucyIsICJwcml2YWN5TW9kZSIsICJ1c2VyTGFuZ3VhZ2UiLCAidGl0bGVBcnRpc3RGb3JtYXQiLCAic3RyaW5ncyIsICJwYXRobmFtZSIsICJzZWFyY2giLCAiaHJlZiIsICJwcmVzZW5jZURhdGEiLCAic3R1ZGlvVGltZXN0YW1wIiwgImJyb3dzaW5nVGltZXN0YW1wIiwgInZpZGVvQXV0aG9yIiwgImhvbWVFbGVtZW50IiwgImlzUHVibGljIiwgInRpdGxlIiwgImFydGlzdCIsICJib3R0b21QbGF5QnV0dG9uIiwgInBmcCJdCn0K
